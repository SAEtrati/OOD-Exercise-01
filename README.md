# ุจู ูุงู ุฎุฏุงููุฏ ุฌุงู ู ุฎุฑุฏ
#### ุงุตูู ุทุฑุงุญ ุดโฺฏุฑุง ุณุณุชูโูุง | ุชูุฑู ฑ
ูพุงุฏูโุณุงุฒ ู ุจุงุฒุทุฑุงุญ ฺฉ ุณุณุชู ุณุงุฏูโ ุฑุฒุฑู ูุชู ุจุฑ ุงุณุงุณ ุงุตูู ุดโฺฏุฑุง (SRP, OCP, LSP, ISP, DIP, PLK, CRP).

---

## ๐ฅ ุงุนุถุง ฺฏุฑูู

- ุณุฏ ุนู ุนุชุฑุช - [@SAEtrati](https://github.com/SAEtrati)
- ุณุฏ ูุญูุฏ ุนุชุฑุช - [@SMEtrati](https://github.com/SMEtrati)

---

## ๐๏ธ ุณุงุฎุชุงุฑ ฺฉู ูุฎุฒู

- ูุงูุฏ ุงุตูู [`Step-01-without-OOD/`](./Step-01-without-OOD)
  ูุณุฎูโ ุชูุณุนูโุงูุชูโ ฺฉุฏ ุงููู ุจุฑุง **ฺฏุงู ุงูู**ุ ุฏุฑ ุงู ูุณุฎู ููุท ุฑูุชุงุฑ ุณุณุชู ฺฏุณุชุฑุด ุฏุงุฏู ุดุฏู ู ุทุฑุงุญ ุงุตู ุนูุฏุงู ุฏุณุชโูุฎูุฑุฏู ูุงูุฏู ุงุณุช.

- ูุทุงุจู ุงุตูู [`Step-02-with-OOD/`](./Step-02-with-OOD)
  ูุณุฎูโ ุจุงุฒุทุฑุงุญโุดุฏู ุจุฑุง ฺฏุงูโูุง ุจุนุฏ (ุงุนูุงู ุงุตูู ุดโฺฏุฑุง). ุชูุถุญุงุช ูุฑุจูุท ุจู ุขู ุฏุฑ ฺฏุงู ฒ ู ณ ููู ReadMe ูุฑุงุฑ ุฏุงุฑุฏ.

- ุชูุถุญุงุช `README.md`
  ฺฏุฒุงุฑุด ูุชู ุชูุฑู ุจุฑุง ูููโ ฺฏุงูโูุง (ููู ูุงู).

---

## 1๏ธโฃ ฺฏุงู ุงูู: ุงูุฒูุฏู ูุงุจูุชโูุง ุฌุฏุฏ ุจุฏูู ุจุงุฒุทุฑุงุญ (`Step-01-without-OOD`)

ุฏุฑ ฺฏุงู ุงููุ ูุฏู ุงู ุงุณุช ฺฉู ุฑู ุทุฑุงุญ ูุนู ุณุณุชู ูฺ ุจุงุฒุทุฑุงุญ ุฎุงุต ุงูุฌุงู ูุดูุฏ ู ุชููุง **ุฑูุชุงุฑ ุณุณุชู ุฑุฒุฑู ูุชู ฺฏุณุชุฑุด ูพุฏุง ฺฉูุฏ**. ุฏู ูุงุจูุช ุฌุฏุฏ ฺฉู ุจุงุฏ ุจู ุณุณุชู ุงุถุงูู ุดููุฏ:

1. **ุงุฑุณุงู ูพุงูฺฉ (SMS)** ุจุฑุง ุชุฃุฏ ุฑุฒุฑูุ ุฏุฑ ฺฉูุงุฑ ุงุฑุณุงู ุงูู.
2. **ูพุฑุฏุงุฎุช ุญุถูุฑ (Onsite)** ุฏุฑ ฺฉูุงุฑ ุณุงุฑ ุฑูุดโูุง ูพุฑุฏุงุฎุช ููุฌูุฏ ูุซู ูพุฑุฏุงุฎุช ููุฏุ ฺฉุงุฑุช ู PayPal.

ุจูโุนุจุงุฑุช ุฏฺฏุฑุ ูพุณ ุงุฒ ุงุฌุฑุง ฺฏุงู ุงูู:

- ุณุณุชู ูโุชูุงูุฏ ุชุฃุฏ ุฑุฒุฑู ุฑุง ูู ุจูโุตูุฑุช **ุงูู** ู ูู ุจูโุตูุฑุช **SMS** ุจุฑุง ูุดุชุฑ ุงุฑุณุงู ฺฉูุฏ.
- ูุดุชุฑ ูโุชูุงูุฏ ููุน ูพุฑุฏุงุฎุช ุฑุง ุฑู **ูพุฑุฏุงุฎุช ุญุถูุฑ ุฏุฑ ูุญู** ูุฒ ุชูุธู ฺฉูุฏ.

> [!IMPORTANT]
> ุชูุงู ุชุบุฑุงุช ุงู ูุฑุญูู ููุท ุฏุฑ ูพูุดูโ `Step-01-without-OOD` ุงุนูุงู ุดุฏูโุงูุฏ ู ุณุงุฎุชุงุฑ ฺฉู ุทุฑุงุญ ููุงู ุณุงุฎุชุงุฑ ูพุฑูฺูโ ุงููู ุจุงู ูุงูุฏู ุงุณุช. ููุงุณูโ ุชุนุฏุงุฏ ู ููุน ุงู ุชุบุฑุงุช ุจุง ุทุฑุงุญ ุจุงุฒุทุฑุงุญโุดุฏูโ ฺฏุงู ุณููุ ููุถูุน ุงุตู ฺฏุงู ฺูุงุฑู ุฎูุงูุฏ ุจูุฏ.

---

### ฑ. ฺฉุงุฑูุง ุงูุฌุงูโุดุฏู ุฏุฑ ฺฏุงู ุงูู

#### ฒ.ฑ. ูุงุจูุช ุงุฑุณุงู ูพุงูฺฉ (SMS)

ุจุฑุง ุงุถุงููโฺฉุฑุฏู SMS ุจู ุณุณุชู ุงุนูุงู ุฑุฒุฑู:

- ฺฉ ูุชุฏ ุฌุฏุฏ ุจุฑุง ุงุฑุณุงู ูพุงูฺฉ ุจู **ุงูุชุฑูุณ/ฺฉูุงุณ ูุณุฆูู ุงุฑุณุงู ูพุงู** ุงุถุงูู ุดุฏู ุงุณุช ุชุง ุนูุงููโุจุฑ ุงููุ ฺฉุงูุงู SMS ูู ูพุดุชุจุงู ุดูุฏ.
- ฺฉ ฺฉูุงุณ ุฌุฏุงฺฏุงูู ุจุฑุง **ุงุฑุณุงู ูพุงูฺฉ** ูพุงุฏูโุณุงุฒ ุดุฏู ุงุณุช ฺฉู ูุชู ุชุฃุฏ ุฑุฒุฑู ุฑุง ุจู ุดูุงุฑูโ ููุจุงู ูุดุชุฑ ุงุฑุณุงู ูโฺฉูุฏ.
- ุฏุฑ ฺฉูุงุณ ุณุฑูุณ ุฑุฒุฑูุ ููุทู ุงูุชุฎุงุจ ููุน ุงุนูุงู (ุงูู ุง SMS) ุงุถุงูู ุดุฏู ุงุณุช ุชุง ุจุฑ ุงุณุงุณ ููุฏุงุฑ `Notifier`ุ ฺฉูุงุณ ููุงุณุจ ูุฑุงุฎูุงู ุดูุฏ.

#### ฒ.ฑ. ูุงุจูุช ูพุฑุฏุงุฎุช ุญุถูุฑ (Onsite Payment)

ุจุฑุง ุงุถุงููโฺฉุฑุฏู ุฑูุด ูพุฑุฏุงุฎุช ุญุถูุฑ:

- ุฏุฑ ฺฉูุงุณ ูุณุฆูู ูพุฑุฏุงุฎุชุ ฺฉ ูุชุฏ ุฌุฏุฏ ุจุฑุง ุซุจุช **ูพุฑุฏุงุฎุช ุญุถูุฑ** ุงุถุงูู ุดุฏู ุงุณุช ุชุง ุฏุฑ ฺฉูุงุฑ ุฑูุดโูุง ูุจู (ููุฏุ ฺฉุงุฑุชุ PayPal) ูุงุจู ุงุณุชูุงุฏู ุจุงุดุฏ.
- ุฏุฑ ฺฉูุงุณ ุณุฑูุณ ุฑุฒุฑูุ ููุทู ุงูุชุฎุงุจ ุฑูุด ูพุฑุฏุงุฎุช ุชูุณุนู ุฏุงุฏู ุดุฏู ุงุณุช ุชุง ููุฏุงุฑ ูุฑุจูุท ุจู ูพุฑุฏุงุฎุช ุญุถูุฑ ูุฒ ุฏุฑ ฺฉูุงุฑ ุณุงุฑ ุฑูุดโูุง ูพุดุชุจุงู ุดูุฏ.

---

### ฒ. ุฌุฏูู ุชุบุฑุงุช ฺฏุงู ุงูู

ุฏุฑ ุฌุฏูู ุฒุฑุ ูููโุชุฑู ุชุบุฑุงุช ฺฉู ุจุฑุง ุงุถุงููโฺฉุฑุฏู ุฏู ูุงุจูุช ยซุงุฑุณุงู ูพุงูฺฉยป ู ยซูพุฑุฏุงุฎุช ุญุถูุฑยป ุงุนูุงู ุดุฏูโุงูุฏุ ุจูโุตูุฑุช ุฎูุงุตู ุขูุฏู ุงุณุช.  
ูุฑ ุฑุฏูุ ูุทุงุจู ุชุนุฑู ุจุฎุด ฑุ ููุงูุฏูโ ฺฉ **ุชุบุฑ** ุฏุฑ ฺฉุฏ ุงุณุช.

> [!NOTE]
> ูุงู ฺฉูุงุณโูุง ุจุฑ ุงุณุงุณ ุณุงุฎุชุงุฑ ูพุฑูฺู ุฏุฑ ูพูุดูโ `Step-01-without-OOD` ููุดุชู ุดุฏู ุงุณุช.

| ุจุฎุด ุงุฑุณุงู ูพุงู (SMS) | ุชูุถุญ ุชุบุฑ ุฏุฑ ุงุฑุณุงู ูพุงู | ุจุฎุด ูพุฑุฏุงุฎุช (Onsite) | ุชูุถุญ ุชุบุฑ ุฏุฑ ูพุฑุฏุงุฎุช | ุฑุฏู |
|----------------------|---------------------------|----------------------|------------------------|---|
| `MessageSender`      | ุงูุฒูุฏู ูุชุฏ ุฌุฏุฏ ุจุฑุง ุงุฑุณุงู ูพุงูฺฉ (ุฏุฑ ฺฉูุงุฑ ูุชุฏ ุงุฑุณุงู ุงูู) ุชุง ุงูุชุฑูุณ ุงุฑุณุงู ูพุงู ุงุฒ SMS ูุฒ ูพุดุชุจุงู ฺฉูุฏ. | `PaymentProcessor`    | ุงูุฒูุฏู ูุชุฏ ุฌุฏุฏ ุจุฑุง ูพุฑุฏุงุฎุช ุญุถูุฑ ุฏุฑ ูุญูุ ุฏุฑ ฺฉูุงุฑ ูุชุฏูุง ูุจู ูพุฑุฏุงุฎุช (ฺฉุงุฑุชุ ููุฏุ PayPal ู ...). | ฑ |
| `EmailSender`        | ุจูโุฑูุฒุฑุณุงู ฺฉูุงุณ ุงุฑุณุงู ุงูู ุจุฑุง ูพุงุฏูโุณุงุฒ ูุชุฏ ุฌุฏุฏ ุงูุชุฑูุณ ู ููโุฎูุงู ุจุง ุชุนุฑู ุชุงุฒูโ `MessageSender`. | `ReservationService`  | ุชูุณุนูโ ููุทู ุฑุฒุฑู ุจุฑุง ุงุณุชูุงุฏู ุงุฒ `PaymentProcessor` ู ูุฑุงุฎูุงู ูุชุฏ ูพุฑุฏุงุฎุช ุญุถูุฑ ููฺฏุงู ุงูุชุฎุงุจ ุงู ุฑูุด. | ฒ |
| `SmsSender`          | ุงุฌุงุฏ ฺฉูุงุณ ุฌุฏุฏ ุจุฑุง ุงุฑุณุงู SMS ฺฉู ูพุงู ุชุฃุฏ ุฑุฒุฑู ุฑุง ุจู ุดูุงุฑูโ ููุจุงู ูุดุชุฑ ุงุฑุณุงู ูโฺฉูุฏ. | โ                | โ | ณ |
| `ReservationService` | ุงูุฒูุฏู ููุทู ุงูุชุฎุงุจ ููุน ุงุนูุงู ุจุฑ ุงุณุงุณ ููุฏุงุฑ `Notifier` ู ุงุณุชูุงุฏู ุงุฒ `SmsSender` ุฏุฑ ุตูุฑุช ุงูุชุฎุงุจ SMS. | โ                    | โ | ด |

---

## 2๏ธโฃ ฺฏุงู ุฏูู: ุชุญูู ุงุตูู ุดโฺฏุฑุง ุฑู ฺฉุฏ ุงููู

ุฏุฑ ุงู ฺฏุงูุ ูุณุฎูโ ุงูููโ ุณุณุชู (ฺฉุฏ ฺฉู ูุจูุง ุดุฑูุน ฺฉุงุฑ ุฏุฑ ฺฏุงู ุงูู ุจูุฏู ุงุณุชุ ูุจู ุงุฒ ุงุถุงููโฺฉุฑุฏู SMS ู ูพุฑุฏุงุฎุช ุญุถูุฑ) ุงุฒ ูุธุฑ ุงุตูู ุดโฺฏุฑุง ุจุฑุฑุณ ุดุฏู ุงุณุช. ุจุฑุง ูุฑ ุงุตูุ ฺฉ ูููููโ **ุจุฑูุฑุงุฑ** ู ฺฉ ุง ฺูุฏ ูููููโ **ููุถ** ุฏุฑ ฺฉุฏ ูุดุฎุต ุดุฏู ุงุณุช.

### ฑ. ุงุตูู ููุฑุฏ ุจุฑุฑุณ

- **SRP** โ Single Responsibility Principle  
- **OCP** โ Open/Closed Principle  
- **LSP** โ Liskov Substitution Principle  
- **ISP** โ Interface Segregation Principle  
- **DIP** โ Dependency Inversion Principle  
- **PLK** โ Principle of Least Knowledge (Law of Demeter)  
- **CRP** โ Common Reuse Principle  

---

### ฒ. ุชุญูู SRP โ ุงุตู ุชฺฉโูุณุฆููุช

| ุชูุถุญ | ฺฉูุงุณ/ูุญู | ููุน |
|--------|-----------|-----|
| ุงู ฺฉูุงุณโูุง ููุท ุฏุงุฏูโูุง ูุฑุจูุท ุจู ุฎูุฏ (ูุดุชุฑุ ุงุชุงู ู ุฑุฒุฑู) ุฑุง ูฺฏู ูโุฏุงุฑูุฏ ู ุฏุฑ ุญุฏ ูุงุฒ ูุญุงุณุจูโ ุณุงุฏู (ูุซู `totalPrice`) ุงูุฌุงู ูโุฏููุฏุ ูุฑฺฉุฏุงู ุชููุง ฺฉ ุฏูู ุจุฑุง ุชุบุฑ ุฏุงุฑูุฏ. | `Customer`, `Room`, `Reservation` | โ๏ธ ููุฑุฏ ุจุฑูุฑุงุฑ |
| ุงู ฺฉูุงุณ ูู ุชุฎูู ุดูุฑ ุฎุงุต (ูุซู ูพุงุฑุณ) ุฑุง ุงุนูุงู ูโฺฉูุฏุ ูู ูพุฑุฏุงุฎุช ุฑุง ูุฏุฑุช ูโฺฉูุฏุ ูู ูพุงู ุชุฃุฏ ุฑุง ุงุฑุณุงู ูโฺฉูุฏ ู ูู ุฎูุงุตูโ ุฑุฒุฑู ุฑุง ฺุงูพ ูโฺฉูุฏ. ุนู ฺูุฏ ูุณุฆููุช ูุชูุงูุช ุฏุฑ ฺฉ ฺฉูุงุณ. | `ReservationService` | โ ููุฑุฏ ููุถ |

---

### ณ. ุชุญูู OCP โ ุงุตู ุจุงุฒ/ุจุณุชู ุจูุฏู

| ุชูุถุญ | ฺฉูุงุณ/ูุญู | ููุน |
|--------|-----------|-----|
| ุงุณุชูุงุฏู ุงุฒ enum ุจูโุฌุง ุฑุดุชูโูุง ุฎุงูุ ุชูุณุนู ุฑุง ููุธูโุชุฑ ฺฉุฑุฏู ู ุงุฒ ุงุดุชุจุงูุงุช ูุชู ุฌููฺฏุฑ ูโฺฉูุฏ. | ุงุณุชูุงุฏู ุงุฒ `enum`ูุง ูุซู `PaymentMethods` ู `Notifier` | โ๏ธ ููุฑุฏ ุจุฑูุฑุงุฑ |
| ุจุฑุง ุงูุฒูุฏู ฺฉ ุฑูุด ูพุฑุฏุงุฎุช ุง ููุน ุงุนูุงู ุฌุฏุฏุ ุจุงุฏ ฺูุฏู ฺฉูุงุณ ููุฌูุฏ ุชุบุฑ ฺฉููุฏ (ุงูุฒูุฏู ููุฏุงุฑ ุจู enumุ ุชุบุฑ ุฏุฑ `switch`ูุง ุฑุฒุฑู ู ูพุฑุฏุงุฎุชุ ุชุบุฑ ุฏุฑ ููุทู ุจุฑูุงููโ ุงุตู). ุจูุงุจุฑุงู ฺฉูุงุณโูุง ุจุฑุง ุชูุณุนู ุจุณุชู ูุณุชูุฏ. | `ReservationService`, `PaymentProcessor`, `Main` | โ ููุฑุฏ ููุถ |

---

### ด. ุชุญูู LSP โ ุงุตู ุฌุงฺฏุฒู ูุณฺฉูู

| ุชูุถุญ | ฺฉูุงุณ/ูุญู | ููุน |
|--------|-----------|-----|
| ูุฑ ุฌุง ฺฉู `MessageSender` ูุงุฒ ุจุงุดุฏุ ูโุชูุงู ูููููโ `EmailSender` ุฑุง ูุฑุงุฑ ุฏุงุฏ ู ุฑูุชุงุฑ ฺฉู ุณุณุชู ุจูโุฏุฑุณุช ฺฉุงุฑ ูโฺฉูุฏ. | `EmailSender` ุจูโุนููุงู ูพุงุฏูโุณุงุฒ `MessageSender` | โ๏ธ ููุฑุฏ ุจุฑูุฑุงุฑ (ุถุนู) |
| ุงู ุงูุชุฑูุณ ููุท ูุชุฏ `sendEmail` ุฏุงุฑุฏุ ุฏุฑ ุญุงู ฺฉู ุฏุฑ ุณุณุชู ููุน ุงุนูุงู ุฏฺฏุฑ ูุซู `SMS` ูู ุชุนุฑู ุดุฏู ุงุณุช. ูพุงุฏูโุณุงุฒโูุง ุฌุฏุฏ (ูุซู `SmsSender`) ูุฌุจูุฑูุฏ ุงู ูุชุฏ ูุฑุจูุท ุจู ุงูู ุฑุง ูู ูพุงุฏู ฺฉููุฏ. | ุงูุชุฑูุณ `MessageSender` | โ ููุฑุฏ ููุถ ฑ |
| ุงู ฺฉูุงุณ ูุณุชููุงู ุจู ฺฉูุงุณ ูุดุฎุต `EmailSender` ูุงุจุณุชู ุงุณุช. ุงฺฏุฑ ุจุฎูุงูู ููุน ุฏฺฏุฑ ุงุฒ ุงุฑุณุงูโฺฉููุฏู (ูุซูุงู SMS) ุฑุง ุฌุงฺฏุฒู ฺฉููุ ุจุงุฏ ุฎูุฏ ุงู ฺฉูุงุณ ุฑุง ุชุบุฑ ุฏููุ ุนู ุงุณุชูุงุฏู ุงุฒ ูพุงุฏูโุณุงุฒ ุฌุฏุฏ ุจุฏูู ุฏุณุชโฺฉุงุฑ ููฺฉู ูุณุช. | `ReservationService` | โ ููุฑุฏ ููุถ ฒ |

---

### ต. ุชุญูู ISP โ ุงุตู ุชูฺฉฺฉ ุงูุชุฑูุณ

| ุชูุถุญ | ฺฉูุงุณ/ูุญู | ููุน |
|--------|-----------|-----|
| ุงู ฺฉูุงุณโูุง ูุฌุจูุฑ ุจู ูพุงุฏูโุณุงุฒ ุงูุชุฑูุณโูุง ุณูฺฏู ุง ฺูุฏููุธูุฑู ูุดุฏูโุงูุฏ ู ููุท ูุชุฏูุง ูุฑุจูุท ุจู ูุณุฆููุช ุฎูุฏ ุฑุง ุฏุงุฑูุฏ. | ฺฉูุงุณโูุง ูุฏู ูุซู `Customer`, `Room`, `Reservation` | โ๏ธ ููุฑุฏ ุจุฑูุฑุงุฑ |
| ุงู ุงูุชุฑูุณ ูุนู ููุท ุจุฑุง ูุงุฒูุง ุงูู ุทุฑุงุญ ุดุฏู ุงุณุช. ุงฺฏุฑ ุฏุฑ ุขูุฏู ูุชุฏูุง ุจุดุชุฑ ุจุฑุง ุงูู ุงุถุงูู ุดูุฏุ ูพุงุฏูโุณุงุฒโูุง ุฏฺฏุฑ (ูุซู SMS) ูุฒ ูุฌุจูุฑ ุจู ุฏุงุดุชู ููู ูุชุฏูุง ูโุดููุฏ ุฏุฑ ุญุงู ฺฉู ุจู ุขูโูุง ูุงุฒ ูุฏุงุฑูุฏ. | ุงูุชุฑูุณ `MessageSender` | โ ููุฑุฏ ููุถ |

---

### ถ. ุชุญูู DIP โ ุงุตู ูุงุฑููฺฏ ูุงุจุณุชฺฏ

| ุชูุถุญ | ฺฉูุงุณ/ูุญู | ููุน |
|--------|-----------|-----|
| ุงุณุชูุงุฏู ุงุฒ enum ุจูโุฌุง ููุงุฏุฑ ูุชู ุฎุงูุ ฺฉ ูุงูโ ุงูุชุฒุงุน ุณุงุฏู ุงุฌุงุฏ ฺฉุฑุฏู ู ฺฉุฏ ุฑุง ุงุฒ ุฑุดุชูโูุง ูพุฑุงฺฉูุฏู ูุณุชููโุชุฑ ฺฉุฑุฏู ุงุณุช. | ุงุณุชูุงุฏู ุงุฒ `PaymentMethods` ู `Notifier` | โ๏ธ ููุฑุฏ ุจุฑูุฑุงุฑ (ูุณุจ) |
| ุงู ฺฉูุงุณ ุจูโุตูุฑุช ูุณุชูู `new PaymentProcessor()` ู `new EmailSender()` ุฑุง ุตุฏุง ูโุฒูุฏ ู ุจู ฺฉูุงุณโูุง concrete ูุงุจุณุชู ุงุณุชุ ูู ุจู abstraction. ุจูุงุจุฑุงู ูุงฺูู ุณุทุญ ุจุงูุง ุจู ุฌุฒุงุช ุณุทุญ ูพุงู ูุงุจุณุชู ุงุณุช. | `ReservationService` | โ ููุฑุฏ ููุถ |

---

### ท. ุชุญูู PLK โ ูุงููู ฺฉูุชุฑู ุฏุงูุด (Law of Demeter)

| ุชูุถุญ | ฺฉูุงุณ/ูุญู | ููุน |
|--------|-----------|-----|
| ุงู ฺฉูุงุณ ุนูุฏุชุงู ุจุง ููุฏูุง ุฎูุฏุด (ูุงููุฏ `room` ู `customer`) ฺฉุงุฑ ูโฺฉูุฏ ู ุงุฒ ุฌุฒุฆุงุช ุฏุงุฎู ุณุงุฑ ฺฉูุงุณโูุง ุขฺฏุงู ุฒุงุฏ ูุฏุงุฑุฏ. | `Reservation` | โ๏ธ ููุฑุฏ ุจุฑูุฑุงุฑ |
| ุฏุฑ ุงู ฺฉูุงุณ ุฏุณุชุฑุณโูุง ุชูุฏุฑุชู ูุซู `res.customer.name`ุ `res.customer.email` ู `res.room.number` ุฏุฏู ูโุดูุฏ. ุงู ุนู ฺฉูุงุณ ุณุฑูุณ ุจุด ุงุฒ ุญุฏ ุฏุฑุจุงุฑู ุณุงุฎุชุงุฑ ุฏุงุฎู `Reservation` ู `Customer` ูโุฏุงูุฏ. | `ReservationService` | โ ููุฑุฏ ููุถ |

---

### ธ. ุชุญูู CRP โ ุงุตู ุงุณุชูุงุฏูโ ูุดุชุฑฺฉ (Common Reuse Principle)

| ุชูุถุญ | ฺฉูุงุณ/ูุญู | ููุน |
|--------|-----------|-----|
| ฺฉูุงุณโูุง `Customer`, `Room` ู `Reservation` ูุนูููุงู ุจุง ูู ุงุณุชูุงุฏู ูโุดููุฏ ู ูุฑุงุฑ ฺฏุฑูุชู ุขูโูุง ุฏุฑ ฺฉ ูพฺฉุฌุ ุจุง ุงุฏูโ ุงุณุชูุงุฏูโ ูุดุชุฑฺฉ ุณุงุฒฺฏุงุฑ ุงุณุช. | ูพฺฉุฌ ูุฏูโูุง (ูุซูุงู `models`) | โ๏ธ ููุฑุฏ ุจุฑูุฑุงุฑ |
| ฺฉูุงุณโูุง ูุฑุจูุท ุจู ูพุฑุฏุงุฎุชุ ุงุนูุงูุ ุณุฑูุณ ุฑุฒุฑู ู ฺฉูุงุณ ุงุตู ุจุฑูุงูู ุฏุฑ ฺฉ ุณุงุฎุชุงุฑ ูุดุฑุฏู ฺฉูุงุฑ ูู ูุฑุงุฑ ฺฏุฑูุชูโุงูุฏ. ุงฺฏุฑ ุจุฎูุงูู ููุท `PaymentProcessor` ุฑุง ุฏุฑ ูพุฑูฺูโุง ุฏฺฏุฑ ุงุณุชูุงุฏู ฺฉููุ ูุฌุจูุฑู ฺฉูุงุณโูุง ุฏฺฏุฑ ุฑุง ูู ููุฑุงู ุขู ูุงุฑุฏ ฺฉูู. | ุณุงุฑ ฺฉูุงุณโูุง (ูพุฑุฏุงุฎุชุ ุงุนูุงูุ ุณุฑูุณุ `Main`) | โ ููุฑุฏ ููุถ |

---

## 3๏ธโฃ ฺฏุงู ุณูู: ุจุงุฒุทุฑุงุญ ุจุฑ ุงุณุงุณ ุงุตูู ุดโฺฏุฑุง (`Step-02-with-OOD`)

ุฏุฑ ุงู ฺฏุงูุ ูุทุงุจู ุตูุฑุช ุชูุฑูุ ฺฉ ฺฉูพ ุงุฒ ูุณุฎูโ ุงูููโ ุณุณุชู ุฏุฑ ูพูุดูโ `Step-02-with-OOD` ูุฑุงุฑ ุฏุงุฏู ุดุฏ ู ุจุฑ ุงุณุงุณ ุชุญูู ฺฏุงู ุฏููุ ููุงุฑุฏ ููุถ ุงุตูู ุดโฺฏุฑุง ุฑู ุงู ูุณุฎู ุงุตูุงุญ ุดุฏ. ุชูุฑฺฉุฒ ุงุตู ุฑู ุณู ููุทูโ ูุดฺฉูโุฏุงุฑ ุจูุฏ:

1. **ุชูุฑฺฉุฒ ุจุดโุงุฒุญุฏ ูุณุฆููุชโูุง ุฏุฑ ฺฉูุงุณ `ReservationService`** (ููุถ SRP, PLK)  
2. **ุทุฑุงุญ ุจุณุชูโ ูพุฑุฏุงุฎุช** (ููุถโูุง OCP, LSP, DIP)  
3. **ุทุฑุงุญ ุณุณุชู ุงุฑุณุงู ูพุงู** (ููุถโูุง OCP, ISP, LSP, DIP)

ุฏุฑ ุงุฏุงููุ ุจุฑุง ูุฑ ุฏุณุชู ุงุฒ ุงู ูุดฺฉูุงุชุ ฺฉุงุฑูุง ฺฉู ุงูุฌุงู ุดุฏู ุชูุถุญ ุฏุงุฏู ุดุฏู ุงุณุช.

---

### ฑ. ุฌุฏุงุณุงุฒ ูุณุฆููุชโูุง ุงุฒ `ReservationService` (ุงุตูุงุญ SRP ู ุจูุจูุฏ PLK)

ุฏุฑ ูุณุฎูโ ุงูููุ ฺฉูุงุณ `ReservationService` ููโุฒูุงู ฺูุฏ ูุณุฆููุช ูุชูุงูุช ุฏุงุดุช:

- ุงุนูุงู ุชุฎูู ุดูุฑ ุฎุงุต (ูพุงุฑุณ)ุ  
- ูุฏุฑุช ูพุฑุฏุงุฎุชุ  
- ฺุงูพ ูุงฺฉุชูุฑ ุฑุฒุฑูุ  
- ู ุงุฑุณุงู ูพุงู ุชุฃุฏ ุฑุฒุฑู.

ุฏุฑ ุจุงุฒุทุฑุงุญ:

- ููุทู **ุงุนูุงู ุชุฎูู ุดูุฑ** ู **ฺุงูพ ูุงฺฉุชูุฑ** ุจู ุฎูุฏ ฺฉูุงุณ ุฏุงูููโ `Reservation` ููุชูู ุดุฏ.  
  ุจุฑุง ุงู ฺฉุงุฑ ุฏู ูุชุฏ ุฒุฑ ุจู `Reservation` ุงุถุงูู ุดุฏูโุงูุฏ:
  - `applyCityDiscount()` โ ุชุฎูู ูุฑุจูุท ุจู ุดูุฑ ยซParisยป ุฑุง ุงุนูุงู ูโฺฉูุฏ.
  - `printInvoice()` โ ูุงฺฉุชูุฑ ุฑุฒุฑู ุฑุง (ูุงู ูุดุชุฑุ ุดูุงุฑู ุงุชุงูุ ููุช ููุง ู ...) ุฑู ุฎุฑูุฌ ฺุงูพ ูโฺฉูุฏ.

- ูุชุฏ `makeReservation` ุฏุฑ `ReservationService` ุณุงุฏูโุชุฑ ุดุฏู ู ุจู ุฌุง ุฏุณุชโฺฉุงุฑ ูุณุชูู ููุฏูุง `Reservation`ุ ููุท:
  - ุดุฑูุน ูพุฑุฏุงุฒุด ุฑุฒุฑู ุฑุง ูุงฺฏ ูโฺฉูุฏุ
  - ูุชุฏ `res.applyCityDiscount()` ุฑุง ุตุฏุง ูโุฒูุฏุ
  - ูพุฑุฏุงุฎุช ุฑุง ุงูุฌุงู ูโุฏูุฏุ
  - ูุงฺฉุชูุฑ ุฑุง ุจุง `res.printInvoice()` ฺุงูพ ูโฺฉูุฏุ
  - ู ุฏุฑ ุงูุชูุง ูพุงู ุชุฃุฏ ุฑุง ุงุฑุณุงู ูโฺฉูุฏ.

ูุชุฌู ุงู ุงุณุช ฺฉู:

- `Reservation` ูุณุฆูู ููุทู ุฎูุฏู ุฑุฒุฑู (ุชุฎูู ู ูุงฺฉุชูุฑ) ุงุณุชุ  
- `ReservationService` ุจุดุชุฑ ููุด **ููุงููฺฏโฺฉููุฏูโ ุณูุงุฑู** ุฑุง ุฏุงุฑุฏ ู ุชฺฉโูุณุฆููุชโุชุฑ ุดุฏู ุงุณุชุ  
- ุฏุณุชุฑุณโูุง ุชูุฏุฑุชู ุจู ุดฺฉู `res.customer...` ุชุง ุญุฏ ูุงุจูโุชูุฌู ฺฉู ุดุฏู ู ูุงููู ฺฉูุชุฑู ุฏุงูุด (PLK) ุจูุชุฑ ุฑุนุงุช ูโุดูุฏ.

---

### ฒ. ุจุงุฒุทุฑุงุญ ุจุฎุด ูพุฑุฏุงุฎุช (ุงุตูุงุญ OCP, LSP, DIP)

ุฏุฑ ุทุฑุงุญ ุงูููุ ฺฉูุงุณ `PaymentProcessor` ฺฉ ฺฉูุงุณ concrete ุจุง ฺูุฏ ูุชุฏ ุจูุฏ:

- `payByCard(...)`
- `payByCash(...)`
- `payByPayPal(...)`

ู `ReservationService` ุจุง ฺฉ ุณูฺ ุฑู `PaymentMethods` ุชุตูู ูโฺฏุฑูุช ฺฉุฏุงู ูุชุฏ ุฑุง ุตุฏุง ุจุฒูุฏ. ุงู ุทุฑุงุญ ูุดฺฉูุงุช ุฒุฑ ุฑุง ุฏุงุดุช:

- ุงุถุงููโฺฉุฑุฏู ูุฑ ุฑูุด ูพุฑุฏุงุฎุช ุฌุฏุฏ ุนู:
  - ุชุบุฑ ุฏุฑ `PaymentProcessor` (ุงูุฒูุฏู ูุชุฏ ุฌุฏุฏ)ุ  
  - ุชุบุฑ ุฏุฑ `ReservationService` (ุงูุฒูุฏู case ุฌุฏุฏ ุฏุฑ switch)ุ  
  - ู ุงุญุชูุงูุงู ุชุบุฑ ุฏุฑ `Main`.  
- ฺฉูุงุณ ุณุทุญ ุจุงูุง `ReservationService` ูุณุชููุงู ุจู ฺฉูุงุณ concrete ุณุทุญ ูพุงู (`PaymentProcessor`) ูุงุจุณุชู ุจูุฏ (ููุถ DIP).
- ฺฉูุงุณ `PaymentProcessor` ููโุฒูุงู ฺูุฏ ุฑูุชุงุฑ ุบุฑูุฑุชุจุท ุฑุง ุฏุฑ ุฎูุฏ ุฏุงุดุช (ููุถ SRP ู OCP).

ุฏุฑ ุจุงุฒุทุฑุงุญ:

- `PaymentProcessor` ุงุฒ ฺฉ ฺฉูุงุณ concrete ุจู ฺฉ **ุงูุชุฑูุณ** ุจุง ูุชุฏ ูุงุญุฏ ุฒุฑ ุชุจุฏู ุดุฏู ุงุณุช:
  - `void pay(double amount);`

- ุจุฑุง ูุฑ ุฑูุด ูพุฑุฏุงุฎุชุ ฺฉ ฺฉูุงุณ ูุฌุฒุง ูพุงุฏูโุณุงุฒ ุดุฏู ุงุณุช:
  - `CardPaymentProcessor`  
  - `CashPaymentProcessor`  
  - `PaypalPaymentProcessor`  
  - `OnSitePaymentProcessor`  

  ูุฑ ฺฉ ุงุฒ ุงู ฺฉูุงุณโูุง ููุท ูุชุฏ `pay` ุฑุง ูพุงุฏูโุณุงุฒ ูโฺฉููุฏ ู ุฑูุชุงุฑ ูุฑุจูุท ุจู ููุงู ุฑูุด ูพุฑุฏุงุฎุช ุฑุง ุฏุฑ ุฎูุฏ ูฺฏู ูโุฏุงุฑูุฏ.

- ุฏุฑ `ReservationService`:
  - ุฏฺฏุฑ ุณูฺ ุฑู `PaymentMethods` ูุฌูุฏ ูุฏุงุฑุฏ.  
  - ุงู ฺฉูุงุณ ููุท ฺฉ ููุฏ ุงุฒ ููุน `PaymentProcessor` ุฏุงุฑุฏ ู ุฏุฑ ูุชุฏ `makeReservation` ฺฉ ุจุงุฑ `paymentProcessor.pay(res.totalPrice())` ุฑุง ูุฑุงุฎูุงู ูโฺฉูุฏ.

- ูุงุจุณุชฺฏ `ReservationService` ุจู ุงูุชุฑูุณ `PaymentProcessor` ุงุฒ ุทุฑู **ุณุงุฒูุฏู** ุชุฒุฑู ูโุดูุฏ (Constructor Injection) ู ุงูุชุฎุงุจ ุงูโฺฉู ุงุฒ ฺฉุฏุงู ูพุงุฏูโุณุงุฒ ุงุณุชูุงุฏู ุดูุฏุ ุฏุฑ ููุทูโ ูุฑูุฏ ุจุฑูุงูู (`Main`) ุงูุฌุงู ูโฺฏุฑุฏ.

ุจู ุงู ุชุฑุชุจ:

- ุงุถุงููโฺฉุฑุฏู ฺฉ ุฑูุด ูพุฑุฏุงุฎุช ุฌุฏุฏ (ูุซูุงู ูพุฑุฏุงุฎุช ุจุง ุฑูุฒุงุฑุฒ) ููุท ูุงุฒููุฏ ุงุถุงููโฺฉุฑุฏู ฺฉ ฺฉูุงุณ ุฌุฏุฏ ุงุณุช ฺฉู `PaymentProcessor` ุฑุง ูพุงุฏูโุณุงุฒ ฺฉูุฏุ ูฺ ุชุบุฑ ุฏุฑ `ReservationService`ุ `PaymentProcessor` ู ุณุงุฑ ฺฉูุงุณโูุง ูุงุฒู ูุณุช โ **ุฑุนุงุช OCP**.
- ูุงฺูู ุณุทุญ ุจุงูุง `ReservationService` ุจู abstraction (ุงูุชุฑูุณ) ูุงุจุณุชู ุงุณุชุ ูู ุจู ฺฉูุงุณ concrete โ **ุฑุนุงุช DIP**.
- ูุฑ ูพุงุฏูโุณุงุฒ ุงุฒ `PaymentProcessor` ูโุชูุงูุฏ ุจุฏูู ูุดฺฉู ุจูโุฌุง ุฏฺฏุฑ ูุฑุงุฑ ุจฺฏุฑุฏ โ **ุฑุนุงุช LSP**.

---

### ณ. ุจุงุฒุทุฑุงุญ ุณุณุชู ุงุนูุงู ูพุงู (ุงุตูุงุญ OCP, ISP, LSP, DIP)

ุชุญูู ฺฏุงู ุฏูู ูุดุงู ุฏุงุฏ ฺฉู ุทุฑุงุญ ุงูููโ ุณุณุชู ูพุงูโุฑุณุงู ฺูุฏ ูุดฺฉู ุฏุงุดุช:

- ุงูุชุฑูุณ `MessageSender` ูุชุฏ ุจู ูุงู `sendEmail` ุฏุงุดุช ฺฉู ุจูโุดุฏุช ูุงุจุณุชู ุจู ุงูู ุจูุฏ.  
- `ReservationService` ูุณุชูู ุงุฒ ฺฉูุงุณ `EmailSender` ุงุณุชูุงุฏู ูโฺฉุฑุฏ ู ฺฉ `switch` ุฑู ููุน ุงุนูุงู (`Notifier`) ุฏุงุดุช.  
- ุงูุฒูุฏู SMS ุง ูุฑ ฺฉุงูุงู ุฌุฏุฏ ุฏฺฏุฑุ ููุฌุฑ ุจู ุชุบุฑ ุฏุฑ ฺูุฏู ฺฉูุงุณ ูโุดุฏ.

ุฏุฑ ุจุงุฒุทุฑุงุญ:

- ุงูุชุฑูุณ `MessageSender` ุนูููโุชุฑ ุดุฏู ู ฺฉ ูุชุฏ ูุงุญุฏ ุฏุงุฑุฏ:
  - `void send(String to, String message);`

- ฺฉูุงุณ `EmailSender` ุจู ุตูุฑุช ุฒุฑ ุงุตูุงุญ ุดุฏู ุงุณุช:
  - ุจูโุฌุง ูุชุฏ `sendEmail`ุ ูุชุฏ `send` ุฑุง ูพุงุฏูโุณุงุฒ ูโฺฉูุฏ.  
  - ุงู ฺฉูุงุณ ููุท ูุณุฆูู ุงุฑุณุงู ูพุงู ุงุฒ ุทุฑู ุงูู ุงุณุช.

- ฺฉ ฺฉูุงุณ ุฌุฏุฏ `SmsSender` ูพุงุฏูโุณุงุฒ ุดุฏู ฺฉู:
  - ุงูุชุฑูุณ `MessageSender` ุฑุง ูพุงุฏูโุณุงุฒ ูโฺฉูุฏุ
  - ุฏุฑ ูุชุฏ `send`ุ ูพุงู ุชุฃุฏ ุฑุง ุจู ุตูุฑุช SMS (ุฏุฑ ุงู ูุณุฎูุ ุจู ุดฺฉู ฺฉ `System.out.println`) ุงุฑุณุงู ูโฺฉูุฏ.

- ุฏุฑ `ReservationService`:
  - ุณูฺ ุฑู `Notifier` ู ูุงุจุณุชฺฏ ูุณุชูู ุจู `EmailSender` ุญุฐู ุดุฏู ุงุณุช.
  - ุงู ฺฉูุงุณ ููุท ฺฉ ููุฏ ุงุฒ ููุน `MessageSender` ุฏุงุฑุฏ ู ุฏุฑ ูพุงุงู ุฑุฒุฑูุ ูุชุฏ `messageSender.send(...)` ุฑุง ุตุฏุง ูโุฒูุฏ.

- ููุงููุฏ ุจุฎุด ูพุฑุฏุงุฎุชุ ูุงุจุณุชฺฏ `ReservationService` ุจู `MessageSender` ูุฒ ุงุฒ ุทุฑู ุณุงุฒูุฏู ุชุฒุฑู ูโุดูุฏ ู ุงูุชุฎุงุจ ุจู ุงููุ SMS ุง ูุฑ ฺฉุงูุงู ุฏฺฏุฑุ ุฏุฑ `Main` (ุง ูุงูโ ุจุงูุงุชุฑ) ุงูุฌุงู ูโุดูุฏ.

ูุชุงุฌ ุงู ุจุงุฒุทุฑุงุญ:

- **ISP**: ุงูุชุฑูุณ `MessageSender` ููุท ุดุงูู ฺฉ ูุชุฏ ุถุฑูุฑ ุงุณุช ู ูพุงุฏูโุณุงุฒโูุง ูุฌุจูุฑ ุจู ูพุงุฏูโุณุงุฒ ูุชุฏูุง ุงุถุงู ู ุบุฑุถุฑูุฑ ูุณุชูุฏ.  
- **LSP**: ูุฑ ูพุงุฏูโุณุงุฒ `MessageSender` (ุงููุ SMSุ ...) ูโุชูุงูุฏ ุจุฏูู ุชุบุฑ ุฏุฑ ฺฉุฏ ูุตุฑูโฺฉููุฏู ุฌุงฺฏุฒู ุฏฺฏุฑ ุดูุฏ.  
- **OCP**: ุงุถุงูู ฺฉุฑุฏู ฺฉุงูุงู ุฌุฏุฏ ุงุนูุงูุ ุชููุง ุจุง ุงูุฒูุฏู ฺฉ ฺฉูุงุณ ุฌุฏุฏ (ูุซูุงู `PushNotificationSender`) ููฺฉู ุงุณุช ู ฺฉุฏูุง ููุฌูุฏ ุชุบุฑ ููโฺฉููุฏ.  
- **DIP**: `ReservationService` ุฏฺฏุฑ ุจู ฺฉูุงุณ concrete `EmailSender` ูุงุจุณุชู ูุณุช ู ููุท abstraction (`MessageSender`) ุฑุง ูโุดูุงุณุฏ.

---

### ด. ูุถุนุช PLK ู CRP ูพุณ ุงุฒ ุจุงุฒุทุฑุงุญ

- ุจุง ุงูุชูุงู ููุทู ุชุฎูู ู ูุงฺฉุชูุฑ ุจู ฺฉูุงุณ `Reservation`ุ ูุฒุงู ุขฺฏุงู `ReservationService` ุงุฒ ุฌุฒุฆุงุช ุฏุงุฎู `Reservation` ู `Customer` ฺฉุงูุด ุงูุชู ู ูุงููู ฺฉูุชุฑู ุฏุงูุด (PLK) ุจูุชุฑ ุฑุนุงุช ูโุดูุฏุ ูุฑฺูุฏ ูููุฒ ุฏุฑ ฺูุฏ ููุทูุ ูุงููุฏ ูพุงู ยซProcessing reservation for ...ยป ูุณุชููุงู ุงุฒ `res.customer.name` ุงุณุชูุงุฏู ูโุดูุฏ ฺฉู ุฏุฑ ูุณุฎูโูุง ุจุนุฏ ูุฒ ูุงุจู ฺฉูพุณููู ุดุฏู ุงุณุช.

- ุณุงุฎุชุงุฑ ูพฺฉุฌโูุง ููฺูุงู ุดุงูู ุณู ุจุณุชูโ ฺฉู `models`, `services`, `constants` ุงุณุช. ุฏุฑ ุงู ุชูุฑูุ ุจุงุฒุทุฑุงุญ CRP ุฏุฑ ุณุทุญ ูพฺฉุฌโูุง ุจูโุตูุฑุช ุฑุฒุชุฑ (ูุซูุงู ุฌุฏุงุณุงุฒ ูพฺฉุฌ ุฌุฏุงฺฏุงูู ุจุฑุง ูพุฑุฏุงุฎุช ุง ุงุนูุงู) ุงูุฌุงู ูุดุฏ ู ุจุฑุง ุณุงุฏฺฏ ููุงู ุณุงุฎุชุงุฑ ุงููู ุญูุธ ุดุฏู ุงุณุชุ ูู ุงุฏูโ ฺฉู ุฑุนุงุช CRP (ุงุณุชูุงุฏูโ ูุดุชุฑฺฉ ุงุฒ ูุฏูโูุง ู ุณุฑูุณโูุง) ุฏุฑ ุฐูู ุทุฑุงุญ ุดุฏู ุงุณุช.

---

## 4๏ธโฃ ฺฏุงู ฺูุงุฑู: ููุงุณูโ ุชุนุฏุงุฏ ุชุบุฑุงุช ู ุงุฑุฒุงุจ ุทุฑุงุญ

(ุฏุฑ ุงู ุจุฎุดุ ุชุนุฏุงุฏ ุชุบุฑุงุช ูุงุฒู ุจุฑุง ุงูุฒูุฏู ูุงุจูุชโูุง ุฌุฏุฏ ูุจู ู ุจุนุฏ ุงุฒ ุจุงุฒุทุฑุงุญ ููุงุณู ุฎูุงูุฏ ุดุฏ.)

---

## 5๏ธโฃ ฺฏุงู ูพูุฌู: ูุชุฌูโฺฏุฑ

(ุฏุฑ ุงู ุจุฎุดุ ุฌูุนโุจูุฏ ููุง ุงุฒ ูุฒุงุง ู ูุชุงุฌ ุฑุนุงุช ุงุตูู ุดโฺฏุฑุง ุฏุฑ ุทุฑุงุญ ุณุณุชู ุงุฑุงุฆู ุฎูุงูุฏ ุดุฏ.)
